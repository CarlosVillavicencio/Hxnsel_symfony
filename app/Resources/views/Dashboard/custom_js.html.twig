<script type="text/javascript">
    {#https://www.jqueryscript.net/loading/jQuery-Youtube-Like-Ajax-Progress-Bar-Plugin-ytLoad.html#}
    {#progrees bar durante ajax tipo youtube#}
    $.ytLoad();
    $(document).ajaxStart(function () {
        $('fieldset').attr('disabled', 'disabled');
//        console.log('ajaxStart');
//        $("body").addClass("ajax_loader");
    });
    $(document).ajaxComplete(function () {
        $('fieldset').removeAttr('disabled');
        //        console.log('ajaxComplete');
        //        $("body").removeClass("ajax_loader");
    });
    $(document).ready(function () {
        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": false,
            "positionClass": "toast-bottom-right",
            "preventDuplicates": true,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "10000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };
        $(document).on("ajaxComplete", function (e, xhr, settings, exception) {
            if (typeof xhr != 'undefined' && typeof xhr.responseJSON != 'undefined' && xhr.responseJSON !== null && typeof xhr.responseJSON.WebScript != 'undefined') {
                if (xhr.responseJSON.WebScript == 'toast') {
                    toastr.options = {
                        "closeButton": true,
                        "debug": false,
                        "positionClass": "toast-bottom-right",
                        "onclick": null,
                        "showDuration": "1000",
                        "hideDuration": "1000",
                        "timeOut": "5000",
                        "extendedTimeOut": "1000",
                        "showEasing": "swing",
                        "hideEasing": "linear",
                        "showMethod": "fadeIn",
                        "hideMethod": "fadeOut"
                    };
                    toastr[xhr.responseJSON.icono](xhr.responseJSON.texto, xhr.responseJSON.titulo);
                } else {
                    {#es otro tipo de mensaje no toastr#}
                }
            }
        });
//        $('.selectpicker').selectpicker();
//        $(".chosen-select").chosen({
//            width: "100%",
//            no_results_text: "Oops, nothing found!",
//            placeholder: 'sssss'
//        });
        var error_class_form = "has-danger";
        var error_class_div = "form-control-feedback";
        var error_class_input = "form-control-danger";
        var options_validate = {
            wrapper: "div",
            errorClass: error_class_div,
            highlight: function (element, errorClass, validClass) {
                $(element).addClass(error_class_input).removeClass(validClass);
                $(element).parent("div").addClass(error_class_form);
            },
            unhighlight: function (element, errorClass, validClass) {
                $(element).removeClass(error_class_input).addClass(validClass);
                $(element).parent("div").removeClass(error_class_form);
            },
            onkeyup: false,
        };
        jQuery.validator.setDefaults(options_validate);
//            jQuery.validator.messages.required = "";
        jQuery.validator.messages = {
            "required": "{{ 'jqueryvalidation_org.required'|trans }}",
            "remote": "{{ 'jqueryvalidation_org.remote'|trans }}",
            "email": "{{ 'jqueryvalidation_org.email'|trans }}",
            "url": "{{ 'jqueryvalidation_org.url'|trans }}",
            "date": "{{ 'jqueryvalidation_org.date'|trans }}",
            "dateISO": "{{ 'jqueryvalidation_org.dateISO'|trans }}",
            "number": "{{ 'jqueryvalidation_org.number'|trans }}",
            "digits": "{{ 'jqueryvalidation_org.digits'|trans }}",
            "equalTo": "{{ 'jqueryvalidation_org.equalTo'|trans }}"
        };
        $(".tagsinput").map(function () {
            var source = $(this).attr("data-source");
            if (source != '' && source != undefined) {
                $(this).tagsinput({
                    typeaheadjs: {
                        source: substringMatcher(source.split(',')),
                    }
                });
            } else {
                $(this).tagsinput();
            }
        });
        var options1 = {
            data: [
                {
                    "name": "Declan Haley",
                    "email": "Cras.lorem.lorem@nonquam.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Francis Marsh",
                    "email": "neque@arcu.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Gage Figueroa",
                    "email": "Sed.auctor.odio@magnis.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Asher Gay",
                    "email": "Phasellus@nonsapien.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Erasmus Roach",
                    "email": "amet@aptent.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Francis Johnston",
                    "email": "Ut.sagittis.lobortis@Donecsollicitudin.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Dustin Mckinney",
                    "email": "velit.Quisque@liberodui.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Zane Camacho",
                    "email": "et.netus@Phasellusvitae.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Murphy Larsen",
                    "email": "sit.amet@felisadipiscing.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Shad Kemp",
                    "email": "justo@laoreetlectus.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Octavius Wolfe",
                    "email": "sociis@aptenttacitisociosqu.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Cooper Bell",
                    "email": "Quisque@apurus.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Lev Mccarthy",
                    "email": "diam@amet.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Arthur Mejia",
                    "email": "Nulla.dignissim@urna.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Ferris Cameron",
                    "email": "vulputate.velit@In.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Ivor Greer",
                    "email": "nisi@Nuncmauriselit.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Alan Church",
                    "email": "et.ipsum@dolor.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Walter Berry",
                    "email": "neque@lacus.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Hyatt Bowman",
                    "email": "lobortis.ultrices@mollis.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Acton Bradley",
                    "email": "commodo.tincidunt@ut.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Duncan Hancock",
                    "email": "Donec@sem.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Macaulay Trujillo",
                    "email": "in.sodales.elit@Donec.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Jack Estrada",
                    "email": "nibh@Quisquetinciduntpede.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Edward Wilkerson",
                    "email": "Quisque.fringilla.euismod@idliberoDonec.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Clarke Mullen",
                    "email": "nunc.Quisque.ornare@leo.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Steel Rodriquez",
                    "email": "a@diam.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Jerome Edwards",
                    "email": "tincidunt@consectetuer.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Quentin Blevins",
                    "email": "In.scelerisque@idrisus.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Maxwell Baxter",
                    "email": "lacinia.mattis@erateget.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Beau Mcclain",
                    "email": "dis.parturient@feugiatnon.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Jarrod Valenzuela",
                    "email": "adipiscing@FuscefeugiatLorem.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Grant Rosario",
                    "email": "feugiat@rutrumFuscedolor.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Wade Atkinson",
                    "email": "et@euerosNam.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Ryder Lindsey",
                    "email": "Quisque.fringilla.euismod@Suspendissealiquetmolestie.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Upton Schmidt",
                    "email": "arcu.Nunc.mauris@quis.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Seth Tate",
                    "email": "elit.a.feugiat@turpisnon.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Emery Shields",
                    "email": "mi.Aliquam.gravida@vestibulummassarutrum.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Slade Bolton",
                    "email": "venenatis.a@fringillami.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Lucas Yates",
                    "email": "purus.in@idnuncinterdum.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Dean Rosa",
                    "email": "vulputate.ullamcorper@commodoipsum.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Ahmed Daniel",
                    "email": "ligula@idsapien.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Hector Hardin",
                    "email": "egestas@Nullam.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Byron Dickerson",
                    "email": "sociis@Proinultrices.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Myles Workman",
                    "email": "magnis.dis@odioPhasellusat.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Jerry Howard",
                    "email": "tortor.nibh@sitamet.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Igor Chase",
                    "email": "sagittis@gravida.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Aquila Mcclure",
                    "email": "dictum@Phasellusinfelis.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "John Hansen",
                    "email": "ut@molestietellus.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Forrest Goodwin",
                    "email": "enim.nec.tempus@massalobortis.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Griffin Lott",
                    "email": "enim.Curabitur.massa@convalliserat.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Alec Cooke",
                    "email": "dolor.quam.elementum@nonmassanon.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Malcolm Howell",
                    "email": "mauris.aliquam@pretium.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Xavier Huber",
                    "email": "elit@eu.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Mohammad Knowles",
                    "email": "semper.pretium@ipsumnonarcu.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Ferdinand Larson",
                    "email": "feugiat.nec.diam@Proinvel.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Omar Bradley",
                    "email": "lectus@nisiCum.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Lucius Foster",
                    "email": "Etiam.vestibulum.massa@etmalesuada.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Abraham Payne",
                    "email": "vestibulum.lorem@vitaerisus.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Rashad Hancock",
                    "email": "dignissim.pharetra@elitpharetraut.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Reece Waters",
                    "email": "nulla.ante@scelerisqueloremipsum.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Hammett Nash",
                    "email": "nisl.Quisque.fringilla@tristiquenequevenenatis.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Gregory Chan",
                    "email": "mi.lorem.vehicula@ultricesposuere.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Bert Massey",
                    "email": "Proin.vel@quislectusNullam.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Prescott Mccall",
                    "email": "at.velit@eueros.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Reed Hardy",
                    "email": "viverra@sapiencursus.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Gareth Kelley",
                    "email": "Etiam@quismassa.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Keaton Freeman",
                    "email": "mauris.erat.eget@ultricesDuis.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Felix Fletcher",
                    "email": "Cum.sociis@miacmattis.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Yardley Madden",
                    "email": "orci.Ut.sagittis@ipsumnunc.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Clayton Cabrera",
                    "email": "non.lacinia@eratSednunc.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Burton Workman",
                    "email": "Fusce@Uttinciduntorci.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Jamal Clayton",
                    "email": "fermentum.arcu@consectetuercursus.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Richard Mccray",
                    "email": "at.lacus@Phasellusataugue.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Chester Olson",
                    "email": "accumsan.neque@lobortistellusjusto.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Cedric Ayala",
                    "email": "leo@Duisat.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Fritz Thompson",
                    "email": "ante@Vestibulumuteros.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Duncan Cervantes",
                    "email": "ut.lacus.Nulla@luctussitamet.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Rooney Coleman",
                    "email": "elit@quamvel.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Brenden Hancock",
                    "email": "semper@ullamcorpermagna.com",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Lewis Stafford",
                    "email": "augue.scelerisque.mollis@pretiumetrutrum.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Tanner Mccarty",
                    "email": "dui.Fusce.aliquam@Proin.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Uriel Brennan",
                    "email": "Mauris.nulla@Curabitur.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Harding Long",
                    "email": "cursus.a.enim@volutpat.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Gray Klein",
                    "email": "tempus.non.lacinia@dolor.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Steven Barker",
                    "email": "sit@mauris.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Hunter Odonnell",
                    "email": "tincidunt.neque@egetmetus.edu",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Orson Key",
                    "email": "ligula.Aenean@et.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Nathan Conley",
                    "email": "eu.tellus@mi.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Stuart Hewitt",
                    "email": "euismod.et@in.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Zeus Young",
                    "email": "et.nunc.Quisque@necorci.ca",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Gareth Melendez",
                    "email": "lorem.lorem@purusgravidasagittis.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Ray Hammond",
                    "email": "ac@musProin.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Logan King",
                    "email": "ante@sedturpisnec.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Cole Harper",
                    "email": "Fusce.fermentum.fermentum@Nullafacilisis.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Emerson Wooten",
                    "email": "pede@massaQuisqueporttitor.org",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Murphy Gomez",
                    "email": "ut.molestie@volutpatnunc.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Norman Cherry",
                    "email": "massa@Nullasemper.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Hammett Wong",
                    "email": "nascetur.ridiculus.mus@scelerisquesed.co.uk",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Lester Aguilar",
                    "email": "Pellentesque@magna.net",
                    "icon": "../img/team.png"
                },
                {
                    "name": "Garth Castaneda",
                    "email": "Etiam.ligula@DonecfringillaDonec.co.uk",
                    "icon": "../img/team.png"
                }
            ],

            getValue: "name",

            template: {
                type: "iconLeft",
                fields: {
                    iconSrc: "icon"
                }
            },

            list: {
                match: {
                    enabled: true
                }
            },

        };

        $(".easyAutocomplete").easyAutocomplete(options1);
        var language = {
            "sProcessing": "{{ 'datatable.processing'|trans }}",
            "sLengthMenu": "{{ 'datatable.lengthMenu'|trans }}",
            "sZeroRecords": "{{ 'datatable.zeroRecords'|trans }}",
            "sEmptyTable": "{{ 'datatable.emptyTable'|trans }}",
            "sInfo": "{{ 'datatable.info'|trans|raw }}",
            "sInfoEmpty": "{{ 'datatable.infoEmpty'|trans }}",
            "sInfoFiltered": "{{ 'datatable.infoFiltered'|trans }}",
            "sInfoPostFix": "{{ 'datatable.infoPostFix'|trans }}",
            "sSearch": "{{ 'datatable.search'|trans }}",
//        "sUrl": "",
//        "sInfoThousands": ",",
            "sLoadingRecords": "{{ 'datatable.loadingRecords'|trans }}",
            "oPaginate": {
                "sFirst": "{{ 'datatable.paginate.first'|trans }}",
                "sLast": "{{ 'datatable.paginate.last'|trans }}",
                "sNext": "{{ 'datatable.paginate.next'|trans }}",
                "sPrevious": "{{ 'datatable.paginate.previous'|trans }}"
            },
            "oAria": {
                "sSortAscending": "{{ 'datatable.aria.sortAscending'|trans|raw }}",
                "sSortDescending": "{{ 'datatable.aria.sortDescending'|trans|raw }}"
            }
        };
        $.extend(true, $.fn.dataTable.defaults, {
            language: language,
            responsive: true,
            lengthChange: false,
            initComplete: function () {
                var table = this;
                $(table).children('thead[class="thead-for-filters"]').remove();
                var newthead = '<thead class="thead-for-filters"><tr>';
                $(table).children('thead').first().children('tr').children('th').each(function (i) {
                    if ($(this).hasClass('filtro') || $(this).hasClass('xs-hidden')) {
                        var clase = ($(this).hasClass('filtro') ? 'filtro' : 'hidden-xs-down');
                        newthead += '<th class="' + clase + '" style="padding: 5px;"></th>';
                    } else {
                        newthead += '<th></th>';
                    }
                });
                newthead += '</tr></thead>';
                $(table).children('thead').after(newthead);
                var api = this.api();
                $(table).children('thead.thead-for-filters').children('tr').children('th').each(function (i) {
                    if ($(this).hasClass('filtro') || $(this).hasClass('xs-hidden')) {
                        var column = api.column(i);
                        var select = $('<select class="form-control padding_0' + '"><option value="">{{ "genericos.btn.seleccione"|trans }}</option></select>').appendTo($(this)).on('change', function () {
                            var val = $.fn.dataTable.util.escapeRegex(
                                $(this).val());
                            column.search(val ? '^' + val + '$' : '', true, false).draw();
                        });
                        column.data().unique().sort().each(function (d, j) {
                            select.append('<option value="' + d + '">' + d + '</option>')
                        });
                    }
                });

                {#
                this.api().columns('.filtro').every(function () {
                    var column = this;
                    var select = $('<select><option value=""></option></select>')
                        .appendTo($(column.header()).empty())
                        .on('change', function () {
                            var val = $.fn.dataTable.util.escapeRegex(
                                $(this).val()
                            );

                            column
                                .search(val ? '^' + val + '$' : '', true, false)
                                .draw();
                        });

                    column.data().unique().sort().each(function (d, j) {
                        select.append('<option value="' + d + '">' + d + '</option>')
                    });
                });#}
            }
        });
        $('.datatable').DataTable();
    });

    function substringMatcher(strs) {
        return function findMatches(q, cb) {
            var matches, substringRegex;

            // an array that will be populated with substring matches
            matches = [];

            // regex used to determine if a string contains the substring `q`
            substrRegex = new RegExp(q, 'i');

            // iterate through the pool of strings and for any string that
            // contains the substring `q`, add it to the `matches` array
            $.each(strs, function (i, str) {
                if (substrRegex.test(str)) {
                    matches.push(str);
                }
            });

            cb(matches);
        };
    }
</script>